# üå§Ô∏è Weather Report Bot

A bilingual (English/Italian) Telegram bot providing 5-day weather forecasts, current conditions with "feels like" temperature, and rain start alerts.

---

## 1. ‚ú® Features

*   **Bilingual Interface**: Full support for English (`/language`) and Italian (`/lingua`).
*   **5-Day Forecast**: Daily minimum and maximum temperatures with weather icons.
*   **Current Conditions**: Real-time temperature, "feels like" temperature, and wind speed.
*   **Rain Start Alert**: Notifies if rain is expected within the next 24 hours.
*   **Local City Names**: Correctly finds cities like "Genova" instead of "Genoa".
*   **Morning Reports**: Optional automatic daily forecast at 8:00 AM via Cron Job.

---

## 2. üõ†Ô∏è Setup & Installation

1.  **Clone the repository** (if applicable) and navigate into the project folder.
    ```bash
    cd weather-report-bot
    ```

2.  **Create and activate a Python virtual environment**.
    ```bash
    python -m venv venv
    # On Linux/macOS:
    source venv/bin/activate
    # On Windows:
    venv\Scripts\activate
    ```

3.  **Install the required Python packages**.
    ```bash
    pip install -r requirements.txt
    ```

4.  **Configure your Bot Token**.
    *   Get a token from [@BotFather](https://t.me/botfather) on Telegram.
    *   Create a file named `.env` in the project root.
    *   Add your token to it:
        ```env
        BOT_TOKEN=your_actual_bot_token_here
        ```
    *   **‚ö†Ô∏è Important**: Never commit the `.env` file to public Git.

5.  **Run the bot**.
    ```bash
    python bot_core.py
    ```

---

## 3. ü§ñ Usage & Commands

*   **`/start`**: Initialize the bot and see the welcome message.
*   **`/weather <city>`** or **`/meteo <citt√†>`**: Get the weather forecast for a specific city.
*   **`/language`** or **`/lingua`**: Switch the bot's interface language.
*   **Direct Message**: Simply type and send a city name (e.g., `London` or `Roma`) to get its forecast.

---

## 4. üìÅ Project File Structure
# üå§Ô∏è Weather Report Bot

A bilingual (English/Italian) Telegram bot providing 5-day weather forecasts, current conditions with "feels like" temperature, and rain start alerts.

---

## 1. ‚ú® Features

*   **Bilingual Interface**: Full support for English (`/language`) and Italian (`/lingua`).
*   **5-Day Forecast**: Daily minimum and maximum temperatures with weather icons.
*   **Current Conditions**: Real-time temperature, "feels like" temperature, and wind speed.
*   **Rain Start Alert**: Notifies if rain is expected within the next 24 hours.
*   **Local City Names**: Correctly finds cities like "Genova" instead of "Genoa".
*   **Morning Reports**: Optional automatic daily forecast at 8:00 AM via Cron Job.

---

## 2. üõ†Ô∏è Setup & Installation

1.  **Clone the repository** (if applicable) and navigate into the project folder.
    ```bash
    cd weather-report-bot
    ```

2.  **Create and activate a Python virtual environment**.
    ```bash
    python -m venv venv
    # On Linux/macOS:
    source venv/bin/activate
    # On Windows:
    venv\Scripts\activate
    ```

3.  **Install the required Python packages**.
    ```bash
    pip install -r requirements.txt
    ```

4.  **Configure your Bot Token**.
    *   Get a token from [@BotFather](https://t.me/botfather) on Telegram.
    *   Create a file named `.env` in the project root.
    *   Add your token to it:
        ```env
        BOT_TOKEN=your_actual_bot_token_here
        ```
    *   **‚ö†Ô∏è Important**: Never commit the `.env` file to public Git.

5.  **Run the bot**.
    ```bash
    python bot_core.py
    ```

---

## 3. ü§ñ Usage & Commands

*   **`/start`**: Initialize the bot and see the welcome message.
*   **`/weather <city>`** or **`/meteo <citt√†>`**: Get the weather forecast for a specific city.
*   **`/language`** or **`/lingua`**: Switch the bot's interface language.
*   **Direct Message**: Simply type and send a city name (e.g., `London` or `Roma`) to get its forecast.

---

## 4. üìÅ Project File Structure
# üå§Ô∏è Weather Report Bot

A bilingual (English/Italian) Telegram bot providing 5-day weather forecasts, current conditions with "feels like" temperature, and rain start alerts.

---

## 1. ‚ú® Features

*   **Bilingual Interface**: Full support for English (`/language`) and Italian (`/lingua`).
*   **5-Day Forecast**: Daily minimum and maximum temperatures with weather icons.
*   **Current Conditions**: Real-time temperature, "feels like" temperature, and wind speed.
*   **Rain Start Alert**: Notifies if rain is expected within the next 24 hours.
*   **Local City Names**: Correctly finds cities like "Genova" instead of "Genoa".
*   **Morning Reports**: Optional automatic daily forecast at 8:00 AM via Cron Job.

---

## 2. üõ†Ô∏è Setup & Installation

1.  **Clone the repository** (if applicable) and navigate into the project folder.
    ```bash
    cd weather-report-bot
    ```

2.  **Create and activate a Python virtual environment**.
    ```bash
    python -m venv venv
    # On Linux/macOS:
    source venv/bin/activate
    # On Windows:
    venv\Scripts\activate
    ```

3.  **Install the required Python packages**.
    ```bash
    pip install -r requirements.txt
    ```

4.  **Configure your Bot Token**.
    *   Get a token from [@BotFather](https://t.me/botfather) on Telegram.
    *   Create a file named `.env` in the project root.
    *   Add your token to it:
        ```env
        BOT_TOKEN=your_actual_bot_token_here
        ```
    *   **‚ö†Ô∏è Important**: Never commit the `.env` file to public Git.

5.  **Run the bot**.
    ```bash
    python bot_core.py
    ```

---

## 3. ü§ñ Usage & Commands

*   **`/start`**: Initialize the bot and see the welcome message.
*   **`/weather <city>`** or **`/meteo <citt√†>`**: Get the weather forecast for a specific city.
*   **`/language`** or **`/lingua`**: Switch the bot's interface language.
*   **Direct Message**: Simply type and send a city name (e.g., `London` or `Roma`) to get its forecast.

---

## 4. üìÅ Project File Structure
weather-report-bot/
‚îú‚îÄ‚îÄ .env # Bot token (SECRET, not in Git)
‚îú‚îÄ‚îÄ .gitignore # Files to ignore in version control
‚îú‚îÄ‚îÄ requirements.txt # Python dependencies
‚îú‚îÄ‚îÄ config.py # Loads configuration from .env
‚îú‚îÄ‚îÄ bot_core.py # Main bot logic and command handlers
‚îú‚îÄ‚îÄ weather_service.py # API calls to Open-Meteo and data formatting
‚îú‚îÄ‚îÄ user_preferences.json # Saves user language choice (auto-generated)
‚îú‚îÄ‚îÄ send_morning_report.py # Script for the scheduled 8 AM report
‚îú‚îÄ‚îÄ README.md # This file
‚îî‚îÄ‚îÄ LICENSE # MIT License file

## 5. üöÄ Deployment on Render.com

### A) Deploy the Main Bot (Web Service)
1.  Create a new **Web Service** on [Render](https://render.com).
2.  Connect your GitHub/GitLab repository.
3.  Configure the service:
    *   **Environment**: `Python 3`
    *   **Build Command**: `pip install -r requirements.txt`
    *   **Start Command**: `python bot_core.py`
4.  Add the `BOT_TOKEN` as an **Environment Variable** in the Render dashboard.


### B) Schedule the 8 AM Report (Cron Job)
1.  In your Render dashboard, create a new **Cron Job**.
2.  Connect the same repository.
3.  Configure the job:
    *   **Schedule**: `0 6 * * *` (This is 6:00 UTC, which is 8:00 AM Italian Time/CET).
    *   **Command**: `python send_morning_report.py`
4.  Add the same `BOT_TOKEN` environment variable to this Cron Job.
5.  The Cron Job will run the script daily, sending the forecast to all users who have set a language preference.

**Data Provider**: [Open-Meteo](https://open-meteo.com/) (Free Weather API)